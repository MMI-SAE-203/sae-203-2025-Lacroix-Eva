---
const tarifs = [
  { titre: "Billet Film", prix: "8€" },
  { titre: "Billet Activité", prix: "6€" },
  { titre: "Abonnement Journée", prix: "14€" },
  { titre: "Réduction -12 ans", prix: "4€" },
];
import Button from "./Button.astro";
---

<div class="relative max-w-lg overflow-hidden ml-3 mt-5">
<div id="carousel" class="flex space-x-6 overflow-x-auto snap-x snap-mandatory scroll-smooth no-scrollbar">
  {
    tarifs.map((item, index) => (
      <div class="min-w-full lg:min-w-[400px] snap-center flex flex-col items-center justify-center bg-fond-article p-6 rounded-lg shadow-lg relative">
        <h3 class="text-2xl font-bold text-cyan-300">{item.titre}</h3>
        <p class="text-white text-lg mt-2">{item.prix}</p>
        
        <!-- Bouton "Acheter" avec classe pour identifier chaque bouton -->
        <button
          class="acheter-btn mt-5 mb-0 m-3 inline-flex items-center justify-center px-8 py-3 rounded-full bg-rose text-white text-base font-Mulish font-bold uppercase shadow-md hover:bg-rose-degrade transition"
          data-index={index} 
        >
          Acheter
        </button>
      </div>
    ))
  }
</div>

  <button
    id="prev"
    class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-gray-800 p-3 rounded-full shadow-md ml-3"
  >
    ⬅
  </button>
  <button
    id="next"
    class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-gray-800 p-3 rounded-full shadow-md mr-3"
  >
    ➡
  </button>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll(".acheter-btn").forEach(button => {
      button.addEventListener("click", function () {
        alert("La billetterie n'est pas encore ouverte !");
      });
    });
  });

  document.addEventListener("DOMContentLoaded", function () {
    const carousel = document.getElementById("carousel");
    const prev = document.getElementById("prev");
    const next = document.getElementById("next");
    const itemWidth = carousel.firstElementChild.clientWidth + 24; // Largeur d'un élément + espacement

    prev.addEventListener("click", () => {
      carousel.scrollBy({ left: -itemWidth, behavior: "smooth" });
    });

    next.addEventListener("click", () => {
      carousel.scrollBy({ left: itemWidth, behavior: "smooth" });
    });
  });
</script>
